<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>2.0</version>
    <date>2018-05-23T16:53:23Z</date>
    <groups>
        <group>
            <name>Templates</name>
        </group>
    </groups>
    <templates>
        <template>
            <template>Template_HDD_SMARTMONTOOLS_2_WITH_LLD</template>
            <name>Template_HDD_SMARTMONTOOLS_2_WITH_LLD</name>
            <description/>
            <groups>
                <group>
                    <name>Templates</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>SMART monitoring (smartctl)</name>
                </application>
            </applications>
            <items/>
            <discovery_rules>
                <discovery_rule>
                    <name>smartctl-disks-discovery</name>
                    <type>0</type>
                    <snmp_community/>
                    <snmp_oid/>
                    <key>uHDD.discovery</key>
                    <delay>1800</delay>
                    <status>0</status>
                    <allowed_hosts/>
                    <snmpv3_contextname/>
                    <snmpv3_securityname/>
                    <snmpv3_securitylevel>0</snmpv3_securitylevel>
                    <snmpv3_authprotocol>0</snmpv3_authprotocol>
                    <snmpv3_authpassphrase/>
                    <snmpv3_privprotocol>0</snmpv3_privprotocol>
                    <snmpv3_privpassphrase/>
                    <delay_flex/>
                    <params/>
                    <ipmi_sensor/>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port/>
                    <filter>
                        <evaltype>0</evaltype>
                        <formula/>
                        <conditions>
                            <condition>
                                <macro>{#SMART_ENABLED}</macro>
                                <value>1</value>
                                <operator>8</operator>
                                <formulaid>A</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <lifetime>30</lifetime>
                    <description/>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#DISKNAME}: ID 5 Reallocated Sectors Count</name>
                            <type>0</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid/>
                            <key>uHDD[&quot;{#DISKCMD}&quot;,5 Reallocated]</key>
                            <delay>7200</delay>
                            <history>7</history>
                            <trends>0</trends>
                            <status>0</status>
                            <value_type>3</value_type>
                            <allowed_hosts/>
                            <units/>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname/>
                            <snmpv3_securitylevel>0</snmpv3_securitylevel>
                            <snmpv3_authprotocol>0</snmpv3_authprotocol>
                            <snmpv3_authpassphrase/>
                            <snmpv3_privprotocol>0</snmpv3_privprotocol>
                            <snmpv3_privpassphrase/>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port/>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>SMART monitoring (smartctl)</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                        </item_prototype>
                        <item_prototype>
                            <name>{#DISKNAME}: ID 9 Power On Hours</name>
                            <type>0</type>
                            <snmp_community/>
                            <multiplier>1</multiplier>
                            <snmp_oid/>
                            <key>uHDD[&quot;{#DISKCMD}&quot;,Power_On]</key>
                            <delay>7200</delay>
                            <history>7</history>
                            <trends>0</trends>
                            <status>0</status>
                            <value_type>3</value_type>
                            <allowed_hosts/>
                            <units>s</units>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname/>
                            <snmpv3_securitylevel>0</snmpv3_securitylevel>
                            <snmpv3_authprotocol>0</snmpv3_authprotocol>
                            <snmpv3_authpassphrase/>
                            <snmpv3_privprotocol>0</snmpv3_privprotocol>
                            <snmpv3_privpassphrase/>
                            <formula>3600</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port/>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>SMART monitoring (smartctl)</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                        </item_prototype>
                        <item_prototype>
                            <name>{#DISKNAME}: ID 10 Spin_Retry_Count</name>
                            <type>0</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid/>
                            <key>uHDD[&quot;{#DISKCMD}&quot;,Spin_Retry_Count]</key>
                            <delay>7200</delay>
                            <history>7</history>
                            <trends>0</trends>
                            <status>0</status>
                            <value_type>3</value_type>
                            <allowed_hosts/>
                            <units/>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname/>
                            <snmpv3_securitylevel>0</snmpv3_securitylevel>
                            <snmpv3_authprotocol>0</snmpv3_authprotocol>
                            <snmpv3_authpassphrase/>
                            <snmpv3_privprotocol>0</snmpv3_privprotocol>
                            <snmpv3_privpassphrase/>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port/>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>SMART monitoring (smartctl)</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                        </item_prototype>
                        <item_prototype>
                            <name>{#DISKNAME}: ID 190 Airflow Temperature</name>
                            <type>0</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid/>
                            <key>uHDD[&quot;{#DISKCMD}&quot;,190 Airflow]</key>
                            <delay>300</delay>
                            <history>7</history>
                            <trends>365</trends>
                            <status>0</status>
                            <value_type>3</value_type>
                            <allowed_hosts/>
                            <units>C</units>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname/>
                            <snmpv3_securitylevel>0</snmpv3_securitylevel>
                            <snmpv3_authprotocol>0</snmpv3_authprotocol>
                            <snmpv3_authpassphrase/>
                            <snmpv3_privprotocol>0</snmpv3_privprotocol>
                            <snmpv3_privpassphrase/>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port/>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>SMART monitoring (smartctl)</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                        </item_prototype>
                        <item_prototype>
                            <name>{#DISKNAME}: ID 194 Temperature</name>
                            <type>0</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid/>
                            <key>uHDD[&quot;{#DISKCMD}&quot;,Temperature_Celsius]</key>
                            <delay>300</delay>
                            <history>7</history>
                            <trends>365</trends>
                            <status>0</status>
                            <value_type>3</value_type>
                            <allowed_hosts/>
                            <units>C</units>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname/>
                            <snmpv3_securitylevel>0</snmpv3_securitylevel>
                            <snmpv3_authprotocol>0</snmpv3_authprotocol>
                            <snmpv3_authpassphrase/>
                            <snmpv3_privprotocol>0</snmpv3_privprotocol>
                            <snmpv3_privpassphrase/>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port/>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>SMART monitoring (smartctl)</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                        </item_prototype>
                        <item_prototype>
                            <name>{#DISKNAME}: ID 197 Current_Pending_Sector</name>
                            <type>0</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid/>
                            <key>uHDD[&quot;{#DISKCMD}&quot;,Current_Pending_Sector]</key>
                            <delay>7200</delay>
                            <history>7</history>
                            <trends>0</trends>
                            <status>0</status>
                            <value_type>3</value_type>
                            <allowed_hosts/>
                            <units/>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname/>
                            <snmpv3_securitylevel>0</snmpv3_securitylevel>
                            <snmpv3_authprotocol>0</snmpv3_authprotocol>
                            <snmpv3_authpassphrase/>
                            <snmpv3_privprotocol>0</snmpv3_privprotocol>
                            <snmpv3_privpassphrase/>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port/>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>SMART monitoring (smartctl)</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                        </item_prototype>
                        <item_prototype>
                            <name>{#DISKNAME}: ID 198 Offline_Uncorrectable</name>
                            <type>0</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid/>
                            <key>uHDD[&quot;{#DISKCMD}&quot;,Offline_Uncorrectable]</key>
                            <delay>7200</delay>
                            <history>7</history>
                            <trends>0</trends>
                            <status>0</status>
                            <value_type>3</value_type>
                            <allowed_hosts/>
                            <units/>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname/>
                            <snmpv3_securitylevel>0</snmpv3_securitylevel>
                            <snmpv3_authprotocol>0</snmpv3_authprotocol>
                            <snmpv3_authpassphrase/>
                            <snmpv3_privprotocol>0</snmpv3_privprotocol>
                            <snmpv3_privpassphrase/>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port/>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>SMART monitoring (smartctl)</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                        </item_prototype>
                        <item_prototype>
                            <name>{#DISKNAME}: ID 199 UDMA_CRC_Error</name>
                            <type>0</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid/>
                            <key>uHDD[&quot;{#DISKCMD}&quot;,UDMA_CRC_Error]</key>
                            <delay>7200</delay>
                            <history>90</history>
                            <trends>365</trends>
                            <status>0</status>
                            <value_type>3</value_type>
                            <allowed_hosts/>
                            <units/>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname/>
                            <snmpv3_securitylevel>0</snmpv3_securitylevel>
                            <snmpv3_authprotocol>0</snmpv3_authprotocol>
                            <snmpv3_authpassphrase/>
                            <snmpv3_privprotocol>0</snmpv3_privprotocol>
                            <snmpv3_privpassphrase/>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port/>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>SMART monitoring (smartctl)</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                        </item_prototype>
                        <item_prototype>
                            <name>{#DISKNAME}: ID 233 (SSD Wearout)</name>
                            <type>0</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid/>
                            <key>uHDD.value[&quot;{#DISKCMD}&quot;,233 Media]</key>
                            <delay>300</delay>
                            <history>7</history>
                            <trends>365</trends>
                            <status>0</status>
                            <value_type>3</value_type>
                            <allowed_hosts/>
                            <units>%</units>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname/>
                            <snmpv3_securitylevel>0</snmpv3_securitylevel>
                            <snmpv3_authprotocol>0</snmpv3_authprotocol>
                            <snmpv3_authpassphrase/>
                            <snmpv3_privprotocol>0</snmpv3_privprotocol>
                            <snmpv3_privpassphrase/>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port/>
                            <description>233 Media Wearout Indicator:&#13;
Intel SSDs report a normalized value from 100, a new drive, to a minimum of 1. It decreases while the NAND erase cycles increase from 0 to the maximum-rated cycles.</description>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>SMART monitoring (smartctl)</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                        </item_prototype>
                        <item_prototype>
                            <name>{#DISKNAME} Device model</name>
                            <type>0</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid/>
                            <key>uHDD.model.[&quot;{#DISKCMD}&quot;]</key>
                            <delay>7200</delay>
                            <history>7</history>
                            <trends>365</trends>
                            <status>0</status>
                            <value_type>1</value_type>
                            <allowed_hosts/>
                            <units/>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname/>
                            <snmpv3_securitylevel>0</snmpv3_securitylevel>
                            <snmpv3_authprotocol>0</snmpv3_authprotocol>
                            <snmpv3_authpassphrase/>
                            <snmpv3_privprotocol>0</snmpv3_privprotocol>
                            <snmpv3_privpassphrase/>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port/>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>SMART monitoring (smartctl)</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                        </item_prototype>
                        <item_prototype>
                            <name>{#DISKNAME} Serial Number</name>
                            <type>0</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid/>
                            <key>uHDD.sn.["{#DISKCMD}"]</key>
                            <delay>7200</delay>
                            <history>3</history>
                            <trends>365</trends>
                            <status>0</status>
                            <value_type>1</value_type>
                            <allowed_hosts/>
                            <units/>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname/>
                            <snmpv3_securitylevel>0</snmpv3_securitylevel>
                            <snmpv3_authprotocol>0</snmpv3_authprotocol>
                            <snmpv3_authpassphrase/>
                            <snmpv3_privprotocol>0</snmpv3_privprotocol>
                            <snmpv3_privpassphrase/>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port/>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>SMART monitoring (smartctl)</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                        </item_prototype>
                        <item_prototype>
                            <name>{#DISKNAME} Test Result</name>
                            <type>0</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid/>
                            <key>uHDD.health.[&quot;{#DISKCMD}&quot;]</key>
                            <delay>7200</delay>
                            <history>3</history>
                            <trends>365</trends>
                            <status>0</status>
                            <value_type>1</value_type>
                            <allowed_hosts/>
                            <units/>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname/>
                            <snmpv3_securitylevel>0</snmpv3_securitylevel>
                            <snmpv3_authprotocol>0</snmpv3_authprotocol>
                            <snmpv3_authpassphrase/>
                            <snmpv3_privprotocol>0</snmpv3_privprotocol>
                            <snmpv3_privpassphrase/>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port/>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>SMART monitoring (smartctl)</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                        </item_prototype>
                    </item_prototypes>
                    <trigger_prototypes>
                        <trigger_prototype>
                            <expression>(({TRIGGER.VALUE}=0 and {Template_HDD_SMARTMONTOOLS_2_WITH_LLD:uHDD[&quot;{#DISKCMD}&quot;,190 Airflow].avg(5m)}&gt;{$TEMP_CRIT}) or&#13;
({TRIGGER.VALUE}=1 and {Template_HDD_SMARTMONTOOLS_2_WITH_LLD:uHDD[&quot;{#DISKCMD}&quot;,190 Airflow].avg(5m)}&gt;{$TEMP_CRIT}-3))&#13;
and {Template_HDD_SMARTMONTOOLS_2_WITH_LLD:uHDD[&quot;{#DISKCMD}&quot;,190 Airflow].last()}&lt;100</expression>
                            <name>{#DISKNAME}: Disk airflow temperature: {ITEM.LASTVALUE}</name>
                            <url/>
                            <status>0</status>
                            <priority>3</priority>
                            <description/>
                            <type>0</type>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>({TRIGGER.VALUE}=0 and {Template_HDD_SMARTMONTOOLS_2_WITH_LLD:uHDD[&quot;{#DISKCMD}&quot;,190 Airflow].avg(5m)}&gt;{$TEMP_WARN}) or&#13;
({TRIGGER.VALUE}=1 and {Template_HDD_SMARTMONTOOLS_2_WITH_LLD:uHDD[&quot;{#DISKCMD}&quot;,190 Airflow].avg(5m)}&gt;{$TEMP_WARN}-3)</expression>
                            <name>{#DISKNAME}: Disk airflow temperature: {ITEM.LASTVALUE}</name>
                            <url/>
                            <status>1</status>
                            <priority>2</priority>
                            <description/>
                            <type>0</type>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{Template_HDD_SMARTMONTOOLS_2_WITH_LLD:uHDD.sn.["{#DISKCMD}"].diff()}=1 and &#13;
{Template_HDD_SMARTMONTOOLS_2_WITH_LLD:uHDD.sn.["{#DISKCMD}"].strlen()}&gt;0</expression>
                            <name>{#DISKNAME}: Disk has been replaced (new serial number received)</name>
                            <url/>
                            <status>0</status>
                            <priority>1</priority>
                            <description>Last value: {ITEM.LASTVALUE1}.&#13;
Device serial number has changed. Ack to close</description>
                            <type>0</type>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>({TRIGGER.VALUE}=0 and {Template_HDD_SMARTMONTOOLS_2_WITH_LLD:uHDD[&quot;{#DISKCMD}&quot;,Temperature_Celsius].avg(5m)}&gt;{$TEMP_WARN}) or&#13;
({TRIGGER.VALUE}=1 and {Template_HDD_SMARTMONTOOLS_2_WITH_LLD:uHDD[&quot;{#DISKCMD}&quot;,Temperature_Celsius].avg(5m)}&gt;{$TEMP_WARN}-3)</expression>
                            <name>{#DISKNAME}: Disk temperature: {ITEM.LASTVALUE}</name>
                            <url/>
                            <status>1</status>
                            <priority>2</priority>
                            <description/>
                            <type>0</type>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>(({TRIGGER.VALUE}=0 and {Template_HDD_SMARTMONTOOLS_2_WITH_LLD:uHDD[&quot;{#DISKCMD}&quot;,Temperature_Celsius].avg(5m)}&gt;{$TEMP_CRIT}) or&#13;
({TRIGGER.VALUE}=1 and {Template_HDD_SMARTMONTOOLS_2_WITH_LLD:uHDD[&quot;{#DISKCMD}&quot;,Temperature_Celsius].avg(5m)}&gt;{$TEMP_CRIT}-3))&#13;
and {Template_HDD_SMARTMONTOOLS_2_WITH_LLD:uHDD[&quot;{#DISKCMD}&quot;,Temperature_Celsius].last()}&lt;100</expression>
                            <name>{#DISKNAME}: Disk temperature: {ITEM.LASTVALUE}</name>
                            <url/>
                            <status>0</status>
                            <priority>3</priority>
                            <description/>
                            <type>0</type>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{Template_HDD_SMARTMONTOOLS_2_WITH_LLD:uHDD.health.[&quot;{#DISKCMD}&quot;].str(&quot;FAILING_NOW!&quot;)}=1</expression>
                            <name>{#DISKNAME}: One or more SMART attributes are FAILING_NOW</name>
                            <url/>
                            <status>0</status>
                            <priority>3</priority>
                            <description>Check test result output for details.</description>
                            <type>0</type>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{Template_HDD_SMARTMONTOOLS_2_WITH_LLD:uHDD[&quot;{#DISKCMD}&quot;,Offline_Uncorrectable].delta(7d)}&gt;0</expression>
                            <name>{#DISKNAME}: SMART (Offline) Uncorrectable Sector Count has been registered</name>
                            <url/>
                            <status>0</status>
                            <priority>3</priority>
                            <description>The total count of uncorrectable errors when reading/writing a sector. A rise in the value of this attribute indicates defects of the disk surface and/or problems in the mechanical subsystem.&#13;
&#13;
Trigger: Timeouts in 7 days if there are no new reallocated sectors.</description>
                            <type>0</type>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{Template_HDD_SMARTMONTOOLS_2_WITH_LLD:uHDD[&quot;{#DISKCMD}&quot;,Current_Pending_Sector].delta(3d)}&gt;0</expression>
                            <name>{#DISKNAME}: SMART Current Pending Sector counter incremented</name>
                            <url/>
                            <status>0</status>
                            <priority>2</priority>
                            <description>Count of &quot;unstable&quot; sectors (waiting to be remapped, because of unrecoverable read errors). If an unstable sector is subsequently read successfully, the sector is remapped and this value is decreased. Read errors on a sector will not remap the sector immediately (since the correct value cannot be read and so the value to remap is not known, and also it might become readable later); instead, the drive firmware remembers that the sector needs to be remapped, and will remap it the next time it's written.&#13;
However, some drives will not immediately remap such sectors when written; instead the drive will first attempt to write to the problem sector and if the write operation is successful then the sector will be marked good (in this case, the &quot;Reallocation Event Count&quot; (0xC4) will not be increased). This is a serious shortcoming, for if such a drive contains marginal sectors that consistently fail only after some time has passed following a successful write operation, then the drive will never remap these problem sectors.&#13;
&#13;
Triiger: Timeouts in 3 days if ther are no new sectors</description>
                            <type>0</type>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{Template_HDD_SMARTMONTOOLS_2_WITH_LLD:uHDD[&quot;{#DISKCMD}&quot;,5 Reallocated].delta(7d)}&gt;0</expression>
                            <name>{#DISKNAME}: SMART Reallocated Sectors Count has been registered</name>
                            <url/>
                            <status>0</status>
                            <priority>3</priority>
                            <description>Count of reallocated sectors. The raw value represents a count of the bad sectors that have been found and remapped.Thus, the higher the attribute value, the more sectors the drive has had to reallocate. This value is primarily used as a metric of the life expectancy of the drive; a drive which has had any reallocations at all is significantly more likely to fail in the immediate months.&#13;
&#13;
Trigger: Timeouts in 7 days if there are no new reallocated sectors.</description>
                            <type>0</type>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{Template_HDD_SMARTMONTOOLS_2_WITH_LLD:uHDD[&quot;{#DISKCMD}&quot;,Spin_Retry_Count].delta(7d)}&gt;0</expression>
                            <name>{#DISKNAME}: SMART Spin Retry Count has been registered</name>
                            <url>https://kb.acronis.com/content/9110</url>
                            <status>0</status>
                            <priority>3</priority>
                            <description>Spin retry event is logged each time the drive was unable to spin its platters up to the rated rotation speed in the due time. Spin-up attempt was aborted and retried. This typically indicates severe controller or bearing problem, but may be sometimes caused by power supply problems.&#13;
Trigger: Timeouts in 7 days if there are no spin retry events.</description>
                            <type>0</type>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{Template_HDD_SMARTMONTOOLS_2_WITH_LLD:uHDD.health.[&quot;{#DISKCMD}&quot;].str(&quot;FAILED!&quot;)}=1</expression>
                            <name>{#DISKNAME}: SMART test status: FAILED!</name>
                            <url/>
                            <status>0</status>
                            <priority>3</priority>
                            <description/>
                            <type>0</type>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{Template_HDD_SMARTMONTOOLS_2_WITH_LLD:uHDD[&quot;{#DISKCMD}&quot;,UDMA_CRC_Error].last()}&gt;100 and {Template_HDD_SMARTMONTOOLS_2_WITH_LLD:uHDD[&quot;{#DISKCMD}&quot;,UDMA_CRC_Error].delta(1d)}&gt;0</expression>
                            <name>{#DISKNAME}: SMART UltraDMA CRC Error Count too high: {ITEM.LASTVALUE}. Check cable!</name>
                            <url>http://www.z-a-recovery.com/man-smart.htm</url>
                            <status>0</status>
                            <priority>3</priority>
                            <description>Low value of this attribute typically indicates that something is wrong with the connectors and/or cables. Disk-to-host transfers are protected by CRC error detection code when Ultra-DMA 66 or 100 is used. So if the data gets garbled between the disk and the host machine, the receiving controller senses this and the retransmission is initiated. Such a situation is called &quot;UDMA CRC error&quot;. Once the problem is rectified (typically by replacing a cable), the attribute value returns to the normal levels pretty quick.</description>
                            <type>0</type>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{Template_HDD_SMARTMONTOOLS_2_WITH_LLD:uHDD.value[&quot;{#DISKCMD}&quot;,233 Media].last()}&lt;5</expression>
                            <name>{#DISKNAME}: SSD wearout (&lt;5% left)</name>
                            <url/>
                            <status>0</status>
                            <priority>3</priority>
                            <description/>
                            <type>0</type>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{Template_HDD_SMARTMONTOOLS_2_WITH_LLD:uHDD.value[&quot;{#DISKCMD}&quot;,233 Media].last()}&lt;10 and &#13;
{Template_HDD_SMARTMONTOOLS_2_WITH_LLD:uHDD.value[&quot;{#DISKCMD}&quot;,233 Media].last()}&gt;=5</expression>
                            <name>{#DISKNAME}: SSD wearout (&lt;10% left)</name>
                            <url/>
                            <status>0</status>
                            <priority>2</priority>
                            <description/>
                            <type>0</type>
                        </trigger_prototype>
                    </trigger_prototypes>
                    <graph_prototypes/>
                    <host_prototypes/>
                </discovery_rule>
            </discovery_rules>
            <macros>
                <macro>
                    <macro>{$TEMP_CRIT}</macro>
                    <value>65</value>
                </macro>
                <macro>
                    <macro>{$TEMP_WARN}</macro>
                    <value>55</value>
                </macro>
            </macros>
            <templates/>
            <screens/>
        </template>
    </templates>
</zabbix_export>
